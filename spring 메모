
maven: pom.wml
gradle: build

spring cloud discovery > eureka server
spring cloud는 spring boot가 필수

mvn spring-boot:run -Dspring-boot.run.jvmArguments='-Dserver.port=9003'
java -jar -Dserver.port=9004 ./target/user-service-0.0.1-SNAPSHOT.jar

mvn cleam: 기존 (target)빌드파일 삭제
mvn compile package: 테스트후  (target/~.jar)빌드파일 생성

ribbon: 로드밸런스

쿠버 로컬 클러스터 실습해보면서 다 들
스프링도 실습, 담주까지 시간, 게이트 기능 인그레스 대처?

로그인 과정
1. 빈으로 @Configuration "WebSecurityConfigurerAdapter" 상속한 'WebSecurity' 클래스 등록됨
2. 로그인 시도시 "UsernamePasswordAuthenticationFilter" 상속한 'AuthenticationFilter'가 가장 먼저 실행됨
3. UserServiceImpl 'loadUserByUsername()'

rabbitmqctl add_user test test
rabbitmqctl set_user_tags test administrator
rabbitmqctl set_permissions -p / test ".*" ".*" ".*"

rabbitmqadmin -H localhost -P 15672 -u guest -p guest list vhosts

curl -O https://packages.confluent.io/archive/7.4/confluent-community-7.4.1.tar.gz

plugin.path=/home/vagrant/confluentinc-kafka-connect-jdbc-10.7.3/lib

connector sink == consumer 역할
connector source == producer 역할

docker-compose run --rm kafka kafka-topics --create --topic quickstart-avro-offsets --partitions 1 --replication-factor 1 --if-not-exists --zookeeper zookeeper:32181 --config cleanup.policy=compact
docker-compose run --rm kafka kafka-topics --create --topic quickstart-avro-config --partitions 1 --replication-factor 1 --if-not-exists --zookeeper zookeeper:32181 --config cleanup.policy=compact
docker-compose run --rm kafka kafka-topics --create --topic quickstart-avro-status --partitions 1 --replication-factor 1 --if-not-exists --zookeeper zookeeper:32181 --config cleanup.policy=compact

CREATE DATABASE IF NOT EXISTS connect_test;
USE connect_test;

CREATE TABLE IF NOT EXISTS test (
  id serial NOT NULL PRIMARY KEY,
  name varchar(100),
  email varchar(200),
  department varchar(200),
  modified timestamp default CURRENT_TIMESTAMP NOT NULL,
  INDEX `modified_index` (`modified`)
);

INSERT INTO test (name, email, department) VALUES ('alice', 'alice@abc.com', 'engineering');
INSERT INTO test (name, email, department) VALUES ('bob', 'bob@abc.com', 'sales');
INSERT INTO test (name, email, department) VALUES ("q", "w", "e"); 

/bin/kafka-topics --bootstrap-server localhost:9092 --list
/bin/kafka-console-consumer --bootstrap-server localhost:9092 --topic quickstart-jdbc-test --from-beginning
/bin/connect-distributed /etc/kafka/connect-distributed.properties
/bin/kafka-console-consumer --bootstrap-server localhost:9092 --topic orders --from-beginning

docker run -d -p 9411:9411 openzipkin/zipkin
hystrix

mvn clean compile package -Dmaven.test.skip=true

트랜잭션(ACID)

질문
자바버전, 데이터 동기화, 깃랩권한, msa정규화, 

docker rm $(docker ps -a -q)
fsutil file createnew test 1048576

